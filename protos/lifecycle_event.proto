syntax = "proto3";

package sfl.v1;

enum LifecycleEventType {
  EMERGE = 0;
  FORK = 1;
  MERGE = 2;
  FREEZE = 3;
  DISSOLVE = 4;
}

message LifecycleEvent {
  bytes nh_id = 1;
  LifecycleEventType event_type = 2;
  uint64 timestamp = 3;
  repeated bytes parent_ids = 4;   // Pour FORK/MERGE
  bytes metadata = 5;
}